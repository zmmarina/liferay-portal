@component-name = "portal-web-forms-and-data-lists"
definition {

	property custom.properties = "minifier.enabled=true";
	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Forms";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			Navigator.openURL();

			ProductMenu.gotoPortlet(
				category = "Content &amp; Data",
				portlet = "Forms");

			FormsAdmin.teardownForms();

			Page.tearDownCP();
		}
	}

	@description = "Verify that a Paragraph Field can be created"
	@ignore = "true"
	@priority = "5"
	test CanBeCreated {
		property portal.acceptance = "false";

		// TODO LPS-131221 CanBeCreated pending implementation

	}

	@description = "Verify that a Paragraph Field can be deleted"
	@ignore = "true"
	@priority = "5"
	test CanBeDeleted {
		property portal.acceptance = "false";

		// TODO LPS-131223 CanBeDeleted pending implementation
	}

	@description = "Verify that a Paragraph Field can be duplicated"
	@ignore = "true"
	@priority = "5"
	test CanBeDuplicated {
		property portal.acceptance = "false";

		// TODO LPS-131224 CanBeDuplicated pending implementation
	}

	@description = "Verify that a Paragraph Field can be edited"
	@ignore = "true"
	@priority = "5"
	test CanBeEdited {
		property portal.acceptance = "false";

		// TODO LPS-131222 CanBeEdited pending implementation
	}

	@description = "Verify that a Form can be submitted with the Paragraph Field"
	@ignore = "true"
	@priority = "5"
	test CanBeSubmitted {
		property portal.acceptance = "false";

		// TODO LPS-131229 CanBeSubmitted pending implementation
	}

	@description = "Verify that a Table can be deleted in the Body Text"
	@ignore = "true"
	@priority = "4"
	test CanDeleteATable {
		property portal.acceptance = "false";

		// TODO LPS-131237 CanDeleteATable pending implementation
	}

	@description = "Verify that the Formatting Style can be changed using the predefined style options"
	@ignore = "true"
	@priority = "4"
	test CanEditFormattingStyle {
		property portal.acceptance = "false";

		// TODO LPS-131235 CanEditFormattingStyle pending implementation
	}

	@description = "Verify that a Form cannot be saved or published without adding anything in the Body Text"
	@priority = "5"
	test CannotBeSavedOrPublishedWithoutBodyText {
		property forms.functional = "true";
		property portal.acceptance = "false";

		ProductMenu.gotoPortlet(
			category = "Content &amp; Data",
			portlet = "Forms");

		FormsAdminNavigator.gotoAddForm();

		Form.editName(formName = "Form 1");

		Form.gotoAddField(
			fieldPositionNumber = "0",
			fieldType = "Paragraph");

		AssertElementPresent(
			key_fieldFieldLabel = "Body Text",
			locator1 = "FormFields#FIELD_REQUIRED");

		Click(locator1 = "Button#SAVE");

		Alert.viewErrorMessage(errorMessage = "Setting (Body Text) of field Paragraph is invalid.");

		Click(locator1 = "Icon#BACK");

		FormsAdminNavigator.gotoAddForm();

		Form.editName(formName = "Form 1");

		Form.gotoAddField(
			fieldPositionNumber = "0",
			fieldType = "Paragraph");

		Button.clickPublish();

		Alert.viewErrorMessage(errorMessage = "Setting (Body Text) of field Paragraph is invalid.");

		Click(locator1 = "Icon#BACK");

		FormsAdminNavigator.gotoAddForm();

		Form.editName(formName = "Form 1");

		Form.gotoAddField(
			fieldPositionNumber = "0",
			fieldType = "Paragraph");

		FormFields.editParagraphBody(content = "Test");

		Click(locator1 = "Button#SAVE");

		Alert.viewSuccessMessageText(successMessage = "Your request completed successfully.");

		Refresh();

		Button.clickPublish();

		Alert.viewSuccessMessageText(successMessage = "The form was published successfully.");
	}

	@description = "Verify that a link to an Anchor in The Text can be added to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportALinkToAnAnchor {
		property portal.acceptance = "false";

		// TODO LPS-131241 CanSupportALinkToAnAnchor pending implementation
	}

	@description = "Verify that a link to an Email can be added to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportALinkToAnEmail {
		property portal.acceptance = "false";

		// TODO LPS-131242 CanSupportALinkToAnEmail pending implementation
	}

	@description = "Verify that a link to a Phone Number can be added to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportALinkToAPhoneNumber {
		property portal.acceptance = "false";

		// TODO LPS-131243 CanSupportALinkToAPhoneNumber pending implementation
	}

	@description = "Verify that a link to a URL can be added to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportALinkToAURL {
		property portal.acceptance = "false";

		// TODO LPS-131240 CanSupportALinkToAURL pending implementation
	}

	@description = "Verify that Bulleted Lists can be added to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportBulletedLists {
		property portal.acceptance = "false";

		// TODO LPS-131239 CanSupportBulletedLists pending implementation
	}

	@description = "Verify that the Body Text supports HTML"
	@ignore = "true"
	@priority = "5"
	test CanSupportHTML {
		property portal.acceptance = "false";

		// TODO LPS-131247 CanSupportHTML pending implementation
	}

	@description = "Verify that an Image can be uploaded to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportImages {
		property portal.acceptance = "false";

		// TODO LPS-131233 CanSupportImages pending implementation
	}

	@description = "Verify that Numbered Lists can be added to the Body Text"
	@ignore = "true"
	@priority = "5"
	test CanSupportNumberedLists {
		property portal.acceptance = "false";

		// TODO LPS-131238 CanSupportNumberedLists pending implementation
	}

	@description = "Verify that a Table can be created in the Body Text"
	@ignore = "true"
	@priority = "4"
	test CanSupportTables {
		property portal.acceptance = "false";

		// TODO LPS-131236 CanSupportTables pending implementation
	}

	@description = "Verify that a Video can be uploaded to the Body Text"
	@priority = "5"
	test CanSupportVideos {
		property forms.functional = "true";
		property portal.acceptance = "false";

		ProductMenu.gotoPortlet(
			category = "Content &amp; Data",
			portlet = "Forms");

		FormsAdminNavigator.gotoAddForm();

		Form.editName(formName = "Form 1");

		Form.gotoAddField(
			fieldPositionNumber = "0",
			fieldType = "Paragraph");

		Click(
			key_titleName = "Video",
			locator1 = "FormFields#TOOLBAR_ANY_ITEM_BUTTON");

		var key_navTab = "URL";

		SelectFrame(locator1 = "ItemSelector#ITEM_SELECTOR_IFRAME");

		AssertClick(
			locator1 = "ItemSelector#NAVIGATION_SPECIFIC_TAB",
			value1 = "URL");

		AssertElementPresent(locator1 = "ItemSelector#URL_LABEL");

		AssertElementNotPresent(locator1 = "IFrame#EXTERNAL_VIDEO_IFRAME");

		Type(
			locator1 = "TextInput#VIDEO_URL",
			value1 = "https://www.youtube.com/watch?v=2EPZxIC5ogU");

		Button.clickAdd();

		Form.save();

		Alert.viewSuccessMessageText(successMessage = "Your request completed successfully.");

		FormsAdminNavigator.gotoBack();

		FormsAdminNavigator.gotoEditFormByName(formName = "Form 1");

		AssertElementPresent(locator1 = "YoutubePortlet#VIDEO_IFRAME");
	}

	@description = "Verify that inputs to the Body Text can be undone and redone"
	@priority = "5"
	test CanUndoAndRedo {
		property forms.functional = "true";
		property portal.acceptance = "false";

		ProductMenu.gotoPortlet(
			category = "Content &amp; Data",
			portlet = "Forms");

		FormsAdminNavigator.gotoAddForm();

		Form.editName(formName = "Form 1");

		Form.gotoAddField(
			fieldPositionNumber = "0",
			fieldType = "Paragraph");

		FormFields.editParagraphBody(content = "Test");

		Form.save();

		FormsAdminNavigator.gotoEditField(fieldName = "Paragraph");

		FormFields.editParagraphBody(content = "Test Body Text");

		Click(
			key_titleName = "Undo",
			locator1 = "CKEditor#TOOLBAR_ANY_ITEM_BUTTON");

		AssertElementPresent(
			key_fieldName = "Paragraph",
			locator1 = "FormFields#PARAGRAPH_BODY_TEXT_CONTENT",
			value1 = "Test");

		Click(
			key_titleName = "Redo",
			locator1 = "CKEditor#TOOLBAR_ANY_ITEM_BUTTON");

		AssertElementPresent(
			key_fieldName = "Paragraph",
			locator1 = "FormFields#PARAGRAPH_BODY_TEXT_CONTENT",
			value1 = "Test Body Text");
	}

	@description = "Verify that a link in a Paragraph Field can be unlinked"
	@ignore = "true"
	@priority = "5"
	test CanUnlinkALink {
		property portal.acceptance = "false";

		// TODO LPS-131244 CanUnlinkALink pending implementation
	}

	@description = "Verify that changes to a Field can be canceled"
	@ignore = "true"
	@priority = "5"
	test ChangesCanBeCanceled {
		property portal.acceptance = "false";

		// TODO LPS-131225 ChangesCanBeCanceled pending implementation
	}

	@description = "Verify that the Field Reference can be Edited"
	@priority = "5"
	test FieldReferenceCanBeEdited {
		property forms.functional = "true";
		property portal.acceptance = "false";

		ProductMenu.gotoPortlet(
			category = "Content &amp; Data",
			portlet = "Forms");

		FormsAdminNavigator.gotoAddForm();

		Form.editName(formName = "Form 1");

		Form.gotoAddField(
			fieldPositionNumber = "0",
			fieldType = "Paragraph");

		FormFields.editParagraphBody(content = "Test");

		Form.gotoAdvancedTab();

		Form.editFieldReferenceMetal(fieldValue = "Paragraph1234");

		Form.save();

		FormsAdminNavigator.gotoBack();

		FormsAdminNavigator.gotoEditFormByName(formName = "Form 1");

		Click(
			key_name = "Paragraph",
			locator1 = "FormFields#FIELD_TARGET_LABEL");

		Form.gotoAdvancedTab();

		AssertElementPresent(
			key_fieldName = "",
			key_fieldValue = "Paragraph1234",
			locator1 = "Translation#TARGET_LANGUAGE_FIELD");
	}

	@description = "Verify that text in the Body Text can be Bolded, Italicized and Underlined"
	@ignore = "true"
	@priority = "5"
	test TextCanBeBoldedItalicizedAndUnderlined {
		property portal.acceptance = "false";

		// TODO LPS-131246 TextCanBeBoldedItalicizedAndUnderlined pending implementation
	}

	@description = "Verify that the Field Title can be edited"
	@ignore = "true"
	@priority = "5"
	test TitleCanBeEdited {
		property portal.acceptance = "false";

		// TODO LPS-131226 TitleCanBeEdited pending implementation
	}

	@description = "Verify that the Field Type can be changed"
	@ignore = "true"
	@priority = "5"
	test TypeCanBeChanged {
		property portal.acceptance = "false";

		// TODO LPS-131232 TypeCanBeChanged pending implementation
	}

}